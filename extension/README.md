# boolcheck-browser-extension

A browser extension project built with TypeScript, React, and Redux. This extension is configured to be compatible with both modern browser extensions (Manifest V3) and Firefox (Manifest V2) through a custom build process.

## Table of Contents

- [Overview](#overview)
- [Installation](#installation)
- [Scripts](#scripts)
- [Development](#development)
- [Testing](#testing)
- [Linting and Formatting](#linting-and-formatting)
- [Contributing](#contributing)
- [License](#license)

---

## Overview

This repository contains the source code for the **boolcheck-browser-extension**, which uses:

- **TypeScript** for type-safe development
- **React** and **React DOM** for building UI components
- **Redux** (using [@reduxjs/toolkit](https://redux-toolkit.js.org/)) for state management
- **Vite** (with [@crxjs/vite-plugin](https://www.npmjs.com/package/@crxjs/vite-plugin)) for bundling and building
- **Jest** for testing
- **ESLint** and **Prettier** for code quality and style enforcement
- **webextension-polyfill** for cross-browser extension API compatibility

---

## Installation

1. **Clone the repository**:

   git clone https://github.com/datasign-inc/Boolcheck-Front-End.git

2. **Navigate to the project directory**:

   cd extension

3. **Install dependencies**:

   yarn install

---

## Scripts

The `scripts` section in `package.json` defines the following commands. You can run them using Yarn (e.g. `yarn build`, `yarn lint`, etc.):

| Script                       | Description                                                                                                                                                  |
| ---------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`yarn build`**             | Cleans previous builds (`clean`), compiles TypeScript (`tsc -b`), and bundles the extension with Vite (`vite build`).                                        |
| **`yarn build-to-ff`**       | Cleans previous builds, compiles TypeScript, bundles with Vite, and then runs a custom script (`firefox-mv2-build`) to generate a Firefox Manifest V2 build. |
| **`yarn firefox-mv2-build`** | A Node script (`tools/unstable_mv3ToMv2Build.js`) that converts the extension from Manifest V3 to Manifest V2 specifically for Firefox.                      |
| **`yarn clean`**             | Runs all clean scripts in parallel (e.g., `clean:dist` and `clean:dist-firefox-v2`) to remove previous build outputs.                                        |
| **`yarn format`**            | Runs all format scripts in parallel, which includes ESLint (`format:eslint`) and Prettier (`format:prettier`) with auto-fixing.                              |
| **`yarn lint`**              | Runs all lint tasks in parallel, which includes `lint:eslint`, `lint:prettier`, and `lint:type` (type-checking).                                             |
| **`yarn test`**              | Runs the Jest test suite.                                                                                                                                    |
| **`yarn ci:test`**           | Runs tests in CI mode with default and GitHub Actions reporters.                                                                                             |

### Clean Scripts

- **`yarn clean`**  
  Runs the following in parallel:

      yarn clean:dist          (removes `dist` folder)
      yarn clean:dist-firefox-v2 (removes `dist-firefox-v2` folder)

### Lint and Format Scripts

- **`yarn lint:eslint`**: Lints all files with ESLint.
- **`yarn lint:prettier`**: Checks all markdown, JSON, YAML, TS/TSX files with Prettier for formatting consistency.
- **`yarn format:eslint`**: Applies automatic ESLint fixes.
- **`yarn format:prettier`**: Formats code with Prettier.

---

## Development

1. **Local Development**:

   - Run `yarn build` for a development or production-ready build.
   - Optionally, you can use Vite’s development server or watchers as configured in your environment (though for browser extensions, typically a manual reloading process is used).

2. **Loading the Extension**:

   - **Google Chrome / Chromium**:
     1. Go to `chrome://extensions`.
     2. Enable **Developer mode**.
     3. Click **Load unpacked** and select the `dist` folder generated by the build.
   - **Firefox**:
     1. Run `yarn build-to-ff`.
     2. Go to `about:debugging#/runtime/this-firefox`.
     3. Click **Load Temporary Add-on** and select the `dist-firefox-v2` folder or relevant manifest file.

3. **Uploading to production**:
   - **Production build**:
     1. cp .env.template .env
     2. fill the following
        ```angular2html
        VITE_APP_URL=
        VITE_BACKEND_API_URL=
        VITE_BACKEND_VERIFIER_URL=
        VITE_BACKEND_NODE_URL=
        ```
     3. yarn build
     4. zip dist/
   - **Google Chrome**:
     1. upload the zip file to store

---

## Testing

- **Unit Tests**:  
  Run `yarn test` to execute the test suite using [Jest](https://jestjs.io/).

- **CI Tests**:  
  Run `yarn ci:test` if you want test results formatted for CI/CD environments (e.g., GitHub Actions).

---

## Linting and Formatting

- **Linting**:

      yarn lint

  This command checks all source files with ESLint, Prettier, and TypeScript type-checking (no emit).

- **Formatting**:

      yarn format

  This will automatically fix and format your code according to ESLint and Prettier rules.

---

## Contributing

1. **Fork** this repository.
2. **Create a feature branch** for your changes (`git checkout -b feature/my-new-feature`).
3. **Commit** your changes with clear messages.
4. **Push** to your fork.
5. **Create a Pull Request** detailing the changes and improvements you’ve made.

Contributions, issues, and feature requests are welcome!

---

## License

No explicit license is defined in this repository. Please add a LICENSE file or specify the license in your `package.json` if you intend to open-source this project. If you are uncertain, consult with your team or legal counsel regarding the appropriate license for this work.

---

> **Note**: This README is auto-generated based on the scripts and dependencies listed in `package.json`. Feel free to tailor the language, structure, and additional details to best suit your project’s needs.
